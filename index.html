<!DOCTYPE html>
<html>

<head>
    <title>Word Guess Game</title>
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <div id="game">

        <div id="wins"></div>
        <div id="lettersGuessed"></div>
        <div id="guessesLeft"></div>
        <div id="word"></div>

    </div>

    <script type="text/javascript">
        // this is where the word repository is
        var gameDictionary = ["zebra", "other", "whatever", "another", "somemore", "unomas"];

        // This randomly picks a word from the gameDictionary
        var computerGuessWord = gameDictionary[Math.floor(Math.random() * gameDictionary.length)];
        console.log("computer guess: " + computerGuessWord);

        // this replaces the letters in the word with underscores
        var underscored = computerGuessWord.replace(/./g, '_ ');
        console.log(underscored)

        //Establishing lettersRemaining for winning;
        var lettersRemaining = computerGuessWord.length;

        // putting word in temp array so I can see if the eventkey matches something in this array
        // will likely have to move it into one of the loops or functions so it's replaced with new word
        var tempArray = []

        // this is my start/stop controller between questions, maybe   
        var gameStatus = true;

        // var tempArray = []
        // for (var i = 0; i < computerGuessWord.length; i++) {
        //     tempArray.push(computerGuessWord.charAt(i));
        // }
        // console.log(tempArray)


        // this is a for loop that looks at the letters that make up the word
        for (var i = 0; i < computerGuessWord.length; i++) {
            // here I'm printing all the letters that make up the word
            console.log("the letters: " + computerGuessWord[i]);
            // here I target the "game" div
            var targetDiv = document.getElementById("game");
            // I textContent the target div with my underscored word
            targetDiv.textContent = underscored;
        }


        // using key events to listen for the letters that the players will type
        document.addEventListener("keyup", function (event) {
            // if gameStatus has been initialized, then proceed to playing
            if (gameStatus) {
                letterCheck(event);
            } else {
                // if gameStatushas completed, I'm going to re-init the game
                // init();
            }
        });

        // setting up an alphabet array for letter checking becuase I don't know how else I could do it
        var alphabetArray = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];

        function letterCheck(guess) {
            // if letter key is press, check if the letter pressed is in the answer
            if (alphabetArray.indexOf(guess.key) > -1) {
                correctGuessCheck(guess);
                console.log("my guess: " + guess)
            }
        }

        // checking whether the guess is correct
        var winScore = 0;
        function correctGuessCheck(guess) {
            if (computerGuessWord.indexOf(guess.key) > -1) {
                // if guess is correct, run correctGuess function.
                console.log("are we getting this far?")
                correctGuess(guess);
            } else {
                // if guess is incorrect, run incorrectGuess function.
                // incorrectGuess(guess);
                console.log("the guess is incorrect!")
            }
        }

        function correctGuess(guess) {
            if (tempArray.indexOf(guess.key.toUpperCase()) < 0) {
                // if the correctGuess doesn't exist in the tempArray, run addCorrectLetter function.
                addCorrectLetter(guess);
            }
        }

        function addCorrectLetter(guess) {
            for (var j = 0; j < gameDictionary.length; j++) {
                // if guess matches an existing letter in the answer.
                if (guess.key === gameDictionary[j]) {
                    // push correct letter to tempArray as upperCase.
                    tempArray[j] = guess.key.toUpperCase();
                    displayCurrentWord();
                    // reduce letters remaining for win by one.
                    lettersRemaining--;
                    // if letters left has reached 0, user wins. 
                    if (lettersRemaining === 0) {
                        //Add 1 to win score.
                        winScore++;
                        //Display new win score.
                        displayWins();

                    }
                }
            }
        }

        // set up an incorrect answer array
        var incorrectGuessesMade = [];
        // default guesses
        var guessesLeft = 9;

        function incorrectGuess(guess) {
            if (incorrectGuessesMade.indexOf(guess.key.toUpperCase()) < 0) {
                // if the inCorrectGuess doesn't exist in the tempArray, run addIncorrectLetter function.
                addIncorrectLetter(guess);
            }
        }

        function addIncorrectLetter(guess) {
            // push incorrect guess into the incorrectGuessesMade array
            incorrectGuessesMade.push(guess.key.toUpperCase());
            // display the incorrect guesses made
            displayGuessesMade();
            // guesses left -1
            guessesLeft--;
            // display guesses left
            displayGuessesLeft();
            if (guessesLeft === 0) {
                // if the guesses = 0 end game
                changeImage();
                // display answer
                displayAnswer();
            }
        }

        

    </script>

</body>

</html>